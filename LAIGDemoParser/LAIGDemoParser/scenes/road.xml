<SCENE>

  <!-- Initial values -->
  <INITIALS>
    <frustum near="0.1" far="500"/>
    <translation x="-1" y="1" z="0" />
    <rotation axis="x" angle="0" />
    <rotation axis="y" angle="0" />
    <rotation axis="z" angle="0" />
    <scale sx="0.25" sy="0.25" sz="0.25" />
    <reference length="5" />
  </INITIALS>


  <!-- Illumination and clear colour -->
  <ILLUMINATION>
    <ambient r="0.2" g="0.2" b="0.2" a="1" />
    <background r="0" g="0" b="0" a="1" />
  </ILLUMINATION>


  <!-- Lights -->
  <LIGHTS>
    <LIGHT id="light0">
      <enable value ="1" />
      <position  x="0" y="15" z="0" w="1" />
      <ambient r="0.2" g="0.2" b="0.2" a="1.0" />
      <diffuse r="1.0" g="1.0" b="1.0" a="1.0" />
      <specular r="1.0" g="1.0" b="1.0" a="1.0" />
    </LIGHT>

    <LIGHT id="light1">
      <enable value ="1" />
      <position x="31" y="15" z="0" w="1" />
      <ambient r="0.2" g="0.2" b="0.2" a="1.0" />
      <diffuse r="1.0" g="1.0" b="1.0" a="1.0" />
      <specular r="1.0" g="1.0" b="1.0" a="1.0" />
    </LIGHT>

    <LIGHT id="light2">
      <enable value ="1" />
      <position x="0" y="15" z="31" w="1" />
      <ambient r="0.2" g="0.2" b="0.2" a="1.0" />
      <diffuse r="1.0" g="1.0" b="1.0" a="1.0" />
      <specular r="1.0" g="1.0" b="1.0" a="1.0" />
    </LIGHT>

    <LIGHT id="light3">
      <enable value ="1" />
      <position x="31" y="15" z="31" w="1" />
      <ambient r="0.2" g="0.2" b="0.2" a="1.0" />
      <diffuse r="0.6" g="0.6" b="0.6" a="1.0" />
      <specular r="0.6" g="0.6" b="0.6" a="1.0" />
    </LIGHT>

  </LIGHTS>

  <!-- Textures -->
  <TEXTURES>
    <!-- Tree trunk -->
    <TEXTURE id="trunk">
      <file path="images/trunk-image.jpg" />
      <amplif_factor s="2" t="2" />
    </TEXTURE>

    <!-- Tree leaves -->
    <TEXTURE id="folhas">
      <file path="images/leaves.jpg" />
      <amplif_factor s="3" t="4" />
    </TEXTURE>

    <!-- Rocks -->
    <TEXTURE id="rocks">
      <file path="images/rocks.jpg" />
      <amplif_factor s="15" t="31" />
    </TEXTURE>

    <!-- Azul metalizado -->
    <TEXTURE id="azul_metalizado">
      <file path="images/blue_metalic.png" />
      <amplif_factor s="1" t="1" />
    </TEXTURE>

    <!-- Borracha -->
    <TEXTURE id="rodas_texture">
      <file path="images/borracha.png" />
      <amplif_factor s="1" t="1" />
    </TEXTURE>

    <!-- Relva -->
    <TEXTURE id="relva">
      <file path="images/relva.png" />
      <amplif_factor s="8" t="31" />
    </TEXTURE>

    <!-- Arbusto -->
    <TEXTURE id="arbusto_texture">
      <file path="images/arbusto.png" />
      <amplif_factor s="1" t="1" />
    </TEXTURE>

    <!-- Ferro transmissão -->
    <TEXTURE id="iron_texture">
      <file path="images/iron.png" />
      <amplif_factor s="1" t="1" />
    </TEXTURE>

    <!-- Luz vermelha -->
    <TEXTURE id="luz_vermelha">
      <file path="images/luz_vermelha.png" />
      <amplif_factor s="1" t="1" />
    </TEXTURE>

    <!-- Luz branca -->
    <TEXTURE id="luz_branca">
      <file path="images/luz_branca.png" />
      <amplif_factor s="1" t="1" />
    </TEXTURE>


  </TEXTURES>


  <MATERIALS>
    <!-- Carro material -->
    <MATERIAL id="carro_material">
      <shininess value="1" />
      <specular r="0.09" g="0.176" b="0.886" a="1" />
      <diffuse r="0.3" g="0.3" b="0.3" a="1" />
      <ambient r="0.2" g="0.2" b="0.2" a="1" />
      <emission r="0.0" g="0.0" b="0.0" a="1" />
    </MATERIAL>

    <!-- Ferro material -->
    <MATERIAL id="iron_material">
      <shininess value="1" />
      <specular r="0.8" g="0.8" b="0.8" a="1" />
      <diffuse r="0.3" g="0.3" b="0.3" a="1" />
      <ambient r="0.2" g="0.2" b="0.2" a="1" />
      <emission r="0.0" g="0.0" b="0.0" a="1" />
    </MATERIAL>

    <!-- Rodas material -->
    <MATERIAL id="rodas_material">
      <shininess value="1" />
      <specular r="0.2" g="0.2" b="0.2" a="1" />
      <diffuse r=".08" g="0.8" b="0.8" a="1" />
      <ambient r="0.2" g="0.2" b="0.2" a="1" />
      <emission r="0.0" g="0.0" b="0.0" a="1" />
    </MATERIAL>

    <!-- Carro material -->
    <MATERIAL id="farois_material">
      <shininess value="1" />
      <specular r="0.9" g="0.9" b="0.9" a="1" />
      <diffuse r="0.3" g="0.3" b="0.3" a="1" />
      <ambient r="0.2" g="0.2" b="0.2" a="1" />
      <emission r="0.5" g="0.5" b="0.5" a="1" />
    </MATERIAL>

    <!-- Tree leaves material -->
    <MATERIAL id="leavesTreeMaterial">
      <shininess value="1" />
      <specular r="0.2" g="0.2" b="0.2" a="1" />
      <diffuse r="0.0" g="0.207" b="0.0" a="1" />
      <ambient r="0.1" g="0.1" b="0.1" a="1" />
      <emission r="0.0" g="0.0" b="0.0" a="1" />
    </MATERIAL>

    <!-- Tree trunk material -->
    <MATERIAL id="trunkTreeMaterial">
      <shininess value="1" />
      <specular r="0.0" g="0.0" b="0.0" a="1" />
      <diffuse r="0.6" g="0.298" b="0.0" a="1" />
      <ambient r="0.1" g="0.1" b="0.1" a="1" />
      <emission r="0.0" g="0.0" b="0.0" a="1" />
    </MATERIAL>

    <!-- A default material -->
    <MATERIAL id="defaultMaterial">
      <shininess value="1" />
      <specular r="0.0" g="0.0" b="0.0" a="1" />
      <diffuse r="0.4" g="0.4" b="0.4" a="1" />
      <ambient r="0.4" g="0.4" b="0.4" a="1" />
      <emission r="0.0" g="0.0" b="0.0" a="1" />
    </MATERIAL>

  </MATERIALS>


  <!-- The nodes -->
  <NODES>

    <ROOT id="root" />

    <!-- The root node -->
    <NODE id="root">
      <MATERIAL id="defaultMaterial" />
      <TEXTURE id="null" />

      <DESCENDANTS>
        <NODEREF id="carro" />
        <NODEREF id="bermas" />
        <NODEREF id="estrada" />
      </DESCENDANTS>

    </NODE>
	
    <!--1x1x1 Cube-->
    <NODE id="unit_cube">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <DESCENDANTS>
        <NODEREF id="faceCubo1" />
        <NODEREF id="faceCubo2" />
        <NODEREF id="faceCubo3" />
        <NODEREF id="faceCubo4" />
        <NODEREF id="faceCubo5" />
        <NODEREF id="faceCubo6" />
      </DESCENDANTS>

    </NODE>

    <!-- A cube face -->
    <NODE id="faceCubo1">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="0" y="0" z="1" />

      <DESCENDANTS>
        <LEAF  type="rectangle" args="0 1 1 0" />
      </DESCENDANTS>

    </NODE>

    <!-- Another cube face -->
    <NODE id="faceCubo2">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="1" y="0" z="1" />
      <ROTATION axis="y" angle="90" />

      <DESCENDANTS>
        <LEAF  type="rectangle" args="0 1 1 0" />
      </DESCENDANTS>

    </NODE>

    <!-- Another cube face -->
    <NODE id="faceCubo3">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="1" y="0" z="0" />
      <ROTATION axis="y" angle="180" />

      <DESCENDANTS>
        <LEAF  type="rectangle" args="0 1 1 0" />
      </DESCENDANTS>

    </NODE>

    <!-- Another cube face -->
    <NODE id="faceCubo4">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <ROTATION axis="y" angle="270" />

      <DESCENDANTS>
        <LEAF  type="rectangle" args="0 1 1 0" />
      </DESCENDANTS>

    </NODE>

    <!-- Another cube face -->
    <NODE id="faceCubo5">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <ROTATION axis="x" angle="90" />

      <DESCENDANTS>
        <LEAF  type="rectangle" args="0 1 1 0" />
      </DESCENDANTS>

    </NODE>

    <!-- Another cube face -->
    <NODE id="faceCubo6">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="0" y="1" z="1" />
      <ROTATION axis="x" angle="-90" />

      <DESCENDANTS>
        <LEAF  type="rectangle" args="0 1 1 0" />
      </DESCENDANTS>

    </NODE>

    <!-- Carro -->
    <NODE id="carro">
      <MATERIAL id="carro_material" />
      <TEXTURE id="azul_metalizado" />

      <TRANSLATION x="9.725" y="0" z="12.7" />
      <SCALE sx="0.7" sy="0.7" sz="0.7" />

      <TRANSLATION x="8.25" y="0" z="4" />
      <ROTATION axis="y" angle="180" />
      <TRANSLATION x="-8.25" y="0" z="-4" />

      <DESCENDANTS>
        <NODEREF id="carroçaria" />
        <NODEREF id="eixo_rodas1" />
        <NODEREF id="eixo_rodas2" />
      </DESCENDANTS>

    </NODE>

    <!-- Carroçaria -->
    <NODE id="carroçaria">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="0" y="0.8" z="0" />

      <DESCENDANTS>
        <NODEREF id="carroçaria_inferior" />
        <NODEREF id="carroçaria_superior" />
        <NODEREF id="farois" />
      </DESCENDANTS>

    </NODE>

    <!-- Carroçaria inferior-->
    <NODE id="carroçaria_inferior">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <SCALE sx="16.5" sy="4.7" sz="8" />

      <DESCENDANTS>
        <NODEREF id="unit_cube" />
      </DESCENDANTS>

    </NODE>

    <!--Farois-->
    <NODE id="farois">
      <MATERIAL id="farois_material" />
      <TEXTURE id="luz_vermelha" />

      <DESCENDANTS>
        <NODEREF id="farois_frente" />
        <NODEREF id="farois_tras" />
      </DESCENDANTS>

    </NODE>

    <!--Farois Frente-->
    <NODE id="farois_frente">
      <MATERIAL id="null" />
      <TEXTURE id="luz_branca" />

      <TRANSLATION x="0" y="3.5" z="0" />
      <SCALE sx="0.7" sy="0.7" sz="0.7" />

      <DESCENDANTS>
        <NODEREF id="farol1frente" />
        <NODEREF id="farol2frente" />
      </DESCENDANTS>

    </NODE>

    <!--Farois Tras-->
    <NODE id="farois_tras">
      <MATERIAL id="null" />
      <TEXTURE id="null" />


      <TRANSLATION x="16.5" y="3.5" z="0" />
      <SCALE sx="0.7" sy="0.7" sz="0.7" />

      <DESCENDANTS>
        <NODEREF id="farol1tras" />
        <NODEREF id="farol2tras" />
      </DESCENDANTS>

    </NODE>

    <!-- Farol 1 Frente-->
    <NODE id="farol1frente">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="0" y="0" z="1.5" />

      <DESCENDANTS>
        <LEAF id="sphere1" type="sphere" args="1 20 20" />
      </DESCENDANTS>

    </NODE>

    <!-- Farol 2 Frente-->
    <NODE id="farol2frente">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="0" y="0" z="9.8" />

      <DESCENDANTS>
        <LEAF id="sphere1" type="sphere" args="1 20 20" />
      </DESCENDANTS>

    </NODE>

    <!-- Farol 1 Tras-->
    <NODE id="farol1tras">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="0" y="0" z="1.5" />

      <DESCENDANTS>
        <LEAF id="sphere1" type="sphere" args="1 20 20" />
      </DESCENDANTS>

    </NODE>

    <!-- Farol 2 Tras-->
    <NODE id="farol2tras">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="0" y="0" z="9.8" />

      <DESCENDANTS>
        <LEAF id="sphere1" type="sphere" args="1 20 20" />
      </DESCENDANTS>

    </NODE>

    <!-- Carroçaria superior-->
    <NODE id="carroçaria_superior">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="5.5" y="4.7" z="0" />
      <SCALE sx="11" sy="4" sz="8" />

      <DESCENDANTS>
        <NODEREF id="unit_cube" />
      </DESCENDANTS>

    </NODE>

    <!-- Eixo rodas 1-->
    <NODE id="eixo_rodas1">
      <MATERIAL id="defaultMaterial" />
      <TEXTURE id="clear" />
      <TRANSLATION x="2.5" y="1.5" z="-0.5" />
      <DESCENDANTS>
        <NODEREF id="eixo_rodas" />
      </DESCENDANTS>

    </NODE>

    <!-- Eixo rodas 2-->
    <NODE id="eixo_rodas2">
      <MATERIAL id="defaultMaterial" />
      <TEXTURE id="clear" />
      <TRANSLATION x="14" y="1.5" z="-0.5" />
      <DESCENDANTS>
        <NODEREF id="eixo_rodas" />
      </DESCENDANTS>

    </NODE>

    <!-- Eixo rodas-->
    <NODE id="eixo_rodas">
      <MATERIAL id="defaultMaterial" />
      <TEXTURE id="clear" />

      <DESCENDANTS>
        <NODEREF id="roda1" />
        <NODEREF id="roda2" />
        <NODEREF id="eixo_transmissao" />
      </DESCENDANTS>

    </NODE>

    <!-- Roda 1 -->
    <NODE id="roda1">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="0" y="0" z="-1.5" />

      <DESCENDANTS>
        <NODEREF id="roda" />
      </DESCENDANTS>

    </NODE>

    <!-- Roda 2 -->
    <NODE id="roda2">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="0" y="0" z="9" />

      <DESCENDANTS>
        <NODEREF id="roda" />
      </DESCENDANTS>

    </NODE>

    <!-- Eixo Transmissao -->
    <NODE id="eixo_transmissao">
      <MATERIAL id="iron_material" />
      <TEXTURE id="iron_texture" />

      <TRANSLATION x="0" y="0" z="0" />
      <SCALE sx="0.4" sy="0.4" sz="10" />

      <DESCENDANTS>
        <LEAF id="cylinder1" type="cylinder" args="1 1 1 20 20 1 1" />
      </DESCENDANTS>
    </NODE>

    <!-- Roda-->
    <NODE id="roda">
      <MATERIAL id="null" />
      <TEXTURE id="rodas_texture" />

      <SCALE sx="1.5" sy="1.5" sz="1.5" />

      <DESCENDANTS>
        <LEAF id="cylinder1" type="cylinder" args="1 1 1 20 20 1 1" />
      </DESCENDANTS>

    </NODE>

    <!-- Estrada -->
    <NODE id="estrada">
      <MATERIAL id="null" />
      <TEXTURE id="rocks" />

      <TRANSLATION x="0" y="0" z="8" />
      <ROTATION axis="z" angle="-90" />
      <ROTATION axis="y" angle="-90" />

      <DESCENDANTS>
        <LEAF type="rectangle" args="0 31 15 0" />
      </DESCENDANTS>

    </NODE>


    <!-- Bermas -->
    <NODE id="bermas">
      <MATERIAL id="null" />
      <TEXTURE id="clear" />

      <DESCENDANTS>
        <NODEREF id="berma1" />
        <NODEREF id="berma2" />
      </DESCENDANTS>

    </NODE>

    <!-- Berma 1 -->
    <NODE id="berma1">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <DESCENDANTS>
        <NODEREF id="arvore_berma1" />
        <NODEREF id="arbusto_berma1" />
        <NODEREF id="chao_passeio" />
      </DESCENDANTS>

    </NODE>

    <!-- Berma 2 -->
    <NODE id="berma2">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="0" y="0" z="23" />
      <!-- 8(first berma)+15(estrada) = 23 -->

      <DESCENDANTS>
        <NODEREF id="arvore_berma2" />
        <NODEREF id="chao_passeio" />
      </DESCENDANTS>

    </NODE>

    <!-- Chao passeio -->
    <NODE id="chao_passeio">
      <MATERIAL id="null" />
      <TEXTURE id="relva" />

      <ROTATION axis="z" angle="-90" />
      <ROTATION axis="y" angle="-90" />

      <DESCENDANTS>
        <LEAF  type="rectangle" args="0 31 8 0" />
      </DESCENDANTS>

    </NODE>

    <!-- Arvore berma 1 -->
    <NODE id="arvore_berma1">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <TRANSLATION x="26" y="0" z="4" />   <!-- x= 31(x total) - 4*2 (valor de pequeno ajuste estetico dos 2 lados) -->

      <DESCENDANTS>
        <NODEREF id="arvore" />
      </DESCENDANTS>

    </NODE>

    <!-- Arvore berma 2 -->
    <NODE id="arvore_berma2">
      <MATERIAL id="null" />
      <TEXTURE id="null" />
	  
	  <TRANSLATION x="5" y="0" z="4" />

      <DESCENDANTS>
        <NODEREF id="arvore" />
      </DESCENDANTS>

    </NODE>

    <!-- Generic tree -->
    <NODE id="arvore">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <DESCENDANTS>
        <NODEREF id="troncoArvore" />
        <NODEREF id="folhasArvore" />
      </DESCENDANTS>

    </NODE>
	
	<!-- Tronco Arvore -->
	<NODE id="troncoArvore">
      <MATERIAL id="trunkTreeMaterial" />
      <TEXTURE id="trunk" />
	  
	  <TRANSLATION x="0" y="1.5" z="0" />
	  <ROTATION axis="z" angle="-90" />
		
      <DESCENDANTS>
		<NODEREF id="metadeTronco1" />
		<NODEREF id="metadeTronco2" />
      </DESCENDANTS>

    </NODE>
	
	<!-- Metade tronco 1 -->
	<NODE id="metadeTronco1">
      <MATERIAL id="trunkTreeMaterial" />
      <TEXTURE id="trunk" />

      <DESCENDANTS>
		<NODEREF id="tronco"/>
      </DESCENDANTS>

    </NODE>
	
	<!-- Metade tronco 2 -->
	<NODE id="metadeTronco2">
      <MATERIAL id="trunkTreeMaterial" />
      <TEXTURE id="trunk" />
	  
	  <ROTATION axis="x" angle="180" />
		
      <DESCENDANTS>
		<NODEREF id="tronco"/>
      </DESCENDANTS>

    </NODE>
	
	<!-- Tronco -->
	<NODE id="tronco">
      <MATERIAL id="trunkTreeMaterial" />
      <TEXTURE id="trunk" />

      <DESCENDANTS>
        <LEAF  type="patch" args="2 3" >
          <CPLINE>
            <CPOINT xx ="-1.5" yy="-1.5"  zz="0" ww="1"/>
            <CPOINT xx ="-2" yy="-2"  zz="2" ww="1"/>
            <CPOINT xx ="-2" yy="2"  zz="2" ww="1"/>
            <CPOINT xx ="-1.5" yy="1.5"  zz="0" ww="1"/>
          </CPLINE>

          <CPLINE>
            <CPOINT xx ="0" yy="0"  zz="0" ww="1"/>
            <CPOINT xx ="0" yy="-2"  zz="0" ww="1"/>
            <CPOINT xx ="0" yy="2"  zz="0" ww="1"/>
            <CPOINT xx ="0" yy="0"  zz="0" ww="1"/>
          </CPLINE>

          <CPLINE>
            <CPOINT xx ="1.5" yy="-1.5"  zz="0" ww="1"/>
            <CPOINT xx ="2" yy="-2"  zz="2" ww="1"/>
            <CPOINT xx ="2" yy="2"  zz="2" ww="1"/>
            <CPOINT xx ="1.5" yy="1.5"  zz="0" ww="1"/>
          </CPLINE>
        </LEAF>

      </DESCENDANTS>

    </NODE>
	
	 <!-- Folhas da Arvore -->
    <NODE id="folhasArvore">
      <MATERIAL id="leavesTreeMaterial" />
      <TEXTURE id="folhas" />

      <TRANSLATION x="0" y="5.5" z="0" /> <!-- y= 4 (altura do patch tronco) + 1.5 de ajuste estetico da esfera -->
      <SCALE sx="3.5" sy="3" sz="3" />

      <DESCENDANTS>
        <LEAF id="sphere1" type="sphere" args="1 20 20" />
      </DESCENDANTS>

    </NODE>

    <!--Arbusto berma 1-->
    <NODE id="arbusto_berma1">
      <MATERIAL id="null" />
      <TEXTURE id="null" />

      <DESCENDANTS>
        <NODEREF id="arbusto" />
      </DESCENDANTS>

    </NODE>

    <!-- Generic bush -->
    <NODE id="arbusto">
      <MATERIAL id="null" />
      <TEXTURE id="arbusto_texture" />

      <SCALE sx="31" sy="3" sz="2" />

      <DESCENDANTS>
        <NODEREF id="unit_cube" />
      </DESCENDANTS>

    </NODE>

  </NODES>

</SCENE>